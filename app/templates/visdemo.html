{# Demo page that gets the data for the 'demoman' user. #}
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- iOS safari optimization for zooming -->
    <script type="text/javascript">
        document.ontouchmove = function(event){
        event.preventDefault();
        }
    </script>
    <meta name="description" content="">
    <meta name="author" content="Utrecht University">
    <title>Interactive Narrator</title>

    <!-- Bootstrap core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Import the Google Web Fonts CSS -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--<link href="static/css/ie10-viewport-bug-workaround.css" rel="stylesheet">-->

    <!-- CSS for dropdown enhancer-->
    <link href="static/css/dropdowns-enhancement.less" rel="stylesheet">
    <!-- CSS for bootstrap-select plugin -->
    <link rel="stylesheet" href="static/css/bootstrap-multiselect.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->


    <!-- load VIS.js-->
    <script src="static/js/vis.js"></script>

    <link href="static/css/vis.css" rel="stylesheet" type="text/css"/>
    <!-- end load VIS.js-->

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS for the sidebar navigation -->
    <link href="static/css/sidebar-in.css" rel="stylesheet">
{#    <link href="static/css/rangeslider.css" rel="stylesheet">#}

    <!-- Custom styles for this template -->
    <link href="static/css/custom.css" rel="stylesheet">

</head>


<body>
      <nav id= "main-nav" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header" style="margin-left: 240px;">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">GRIMM</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="/">Home</a> </li>

          </ul>

        </div><!--/.nav-collapse -->
      </div>
      <div id="topbar-button">
        <a id="topbar-button-a" href="#">Menu<span class="topbar-icon glyphicon glyphicon-menu-down"></span></a>
    </div>
    </nav>
<!-- A wrapper that wraps all of the content -->
<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <li class="sidebar-brand">
            <a id="menu-toggle" href="#">Interactive Narrator<span id="main_icon" class="glyphicon glyphicon glyphicon-menu-hamburger"></span></a>
        </li>
        <ul class="sidebar-nav">

            <!-- </li> -->
            <li>
                <div id="searchinput" class="input-group">
                    <input type="text" id="searchfield" class="form-control" placeholder="Search for...">
                    <span class="input-group-btn">
                      <button id="searchbutton" class="btn btn-default" type="button"><span
                              class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
                    </span>
                </div><!-- /input-group -->
            </li>

            <li>
                <select id="roleselector" multiple="multiple">

                </select>

            </li>
            <li>
                <select id="sprintselector" multiple="multiple">
                </select>
            </li>
            <li>
                <a id="relationships" href="#">Relationships<span class="sub_icon glyphicon glyphicon-random"
                                                                  aria-hidden="true"></span></a>
            </li>

            <li id="weight-slider-li">
                <h5 id="threshold">Threshold:</h5>
                <input type="range" id="weightSlider"
                       name="weightSlider" min="0" max="20" value="0"
                       oninput="weightSliderAmount.value=weightSlider.value">

                <output name="weightSliderAmount" id="weightSliderAmount" for="weightSlider">0</output>


            </li>
            <li>
                <a id="helpitem" href="#" data-toggle="modal" data-target="#helpModal">Help<span class="sub_icon glyphicon glyphicon-info-sign"
                                                       aria-hidden="true"></span></a>
            </li>
{#             <li>#}
{#                <a id="newset" href="/form"> New Set<span class="sub_icon glyphicon glyphicon-plus-sign"#}
{#                                                                  aria-hidden="true"></span></a>#}
{#            </li>#}


        </ul> <!-- End .sidebar-nav-->

    </div><!-- End #sidebar-wrapper -->
    <!-- Modal -->
    <div id="helpModal" class="modal fade" role="dialog">
      <div class="modal-dialog modal-md">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Interactive Narrator Help</h4>
          </div>
          <div class="modal-body">
            <h5>Welcome tot the Interactive Narrator.</h5>
              <h6>Usage:</h6>
              <p>Interactive Narrator has processed your user stories and made the visualization. The visualization
                  consists of nodes and edges: each node represents a concept extracted from one or more user stories, whereas
              an edge stands for a relationship that exists between two concepts inside a user story. A relationship can also
              be of a 'generalization' type, in in which the relationships respresents a child-parent hierarchy. These relationships
              can span across user stories.</p>
              <p>Double click on a node to see to which user story its concept belongs. The larger the node is, the more often it occurs within your
              set of user stories. Use the slider to hide nodes below a certain weight limit. Nodes that have a thick blue border are concepts that have a 'role function' within a user story.
              Theses are often the actors that carry out certain tasks/behavior that is modeled by the user stories.</p>
              <p></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div> <!-- End Modal -->

    <div id="vis-wrapper"><!--This is the area on the right side -->
        <div class="container-fluid" id="visualization"><!-- This contains the network generated from the data -->
            <div class="row">
                <div id="vis-area" class="col-lg-12">
                    <!-- Load our own visualization script-->
                    <script src="static/js/visualization.js"></script>
                </div> <!-- End .col-lg-12-->
            </div><!-- End .row -->
            <div id="userstoryinfo">
                <table id="userstorytable">

                </table>
            </div>
        </div><!-- End .container-fluid-->
    </div> <!-- End vis-wrapper-->
</div><!--End #wrapper -->

<!-- JAVASCRIPT FILES ===============================
   ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!--<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>-->

<!-- Bootstrap Javascript files -->
<script src="static/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!-- <script src="assets/js/ie10-viewport-bug-workaround.js"></script> -->

<!-- Include the Javascript for the dropdown enhancer-->
{#    <script src="static/js/dropdowns-enhancement.js"></script>#}


<!-- Load the JS for the bootstrap-select plugin -->
<script type="text/javascript" src="static/js/bootstrap-multiselect.js"></script>

<script type="text/javascript" src="static/js/sidebar-in.js"></script>

<!-- Open the sidebar menu when clicking the hamburger/a element up top -->
<script>
    $("#menu-toggle").click(function () {
{#        e.stopPropagation();#}
{#        e.preventDefault();#}
        if(!$("#wrapper").hasClass("toggled")){
            $("#wrapper").toggleClass("toggled");
        }
        else{
            $("#wrapper").removeClass("toggled");
        }

    });

</script>

<!-- Javascript to open/close the horizontal header-bar -->
<script>

    $("#topbar-button-a").click(function (e) {
{#        e.preventDefault();#}
{#        e.stopPropagation();#}
        $("nav").toggleClass("nav-up");
{#        return false;#}
    });

</script>
      <!--          Keep the dropdowns open if the user clicks on the  visualization -->
      <script>

{#          $('#visualization').click(function (e) { e.stopPropagation(); });#}

          $('.sidebar-nav > a').click(function (e) { e.stopPropagation(); });


{#          $("#sidebar-wrapper button, .multiselect, .sub_icon").on('click', function(e) {#}
{#              console.log("click registered");#}
{#              $("#wrapper").addClass("toggled");#}
{##}
{##}
{#          });#}
          $(".sidebar-nav").on('click', function (e) {
              if(!$("#wrapper").hasClass("toggled")){
                  $("#wrapper").addClass("toggled");
              }

          });
{#          $("#sidebar-wrapper .multiselect .dropdown-toggle .btn .btn-default").on('click', function(e) {#}
{#              $("#wrapper").addClass("toggled");#}
{#          });#}


{#          $("#visualization").on('click', function() {#}
{#              console.log("click registered");#}
{#              if ($("#roleselector-btn-group").hasClass("open")) {#}
{##}
{#                  setTimeout(function () {#}
{#                      $("#roleselector-btn-group").addClass('open');#}
{##}
{#                  },)#}
{#              }#}
{#              if ($("#sprintselector-btn-group").hasClass("open")) {#}
{##}
{#                  setTimeout(function () {#}
{#                      $("#sprintselector-btn-group").addClass('open');#}
{##}
{#                  },)#}
{#              }#}
{# });#}

      </script>




</body>
</html>
